!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("ReactDnD"),require("ReactDOM")):"function"==typeof define&&define.amd?define(["React","ReactDnD","ReactDOM"],t):"object"==typeof exports?exports.ReactTags=t(require("React"),require("ReactDnD"),require("ReactDOM")):e.ReactTags=t(e.React,e.ReactDnD,e.ReactDOM)}(this,function(e,t,r){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";var n=r(14),o=(r(75),r(25)),i=r(24),a=r(23),s=a.DragDropContext,u=r(73),c={ENTER:13,TAB:9,BACKSPACE:8,UP_ARROW:38,DOWN_ARROW:40,ESCAPE:27},p=n.createClass({displayName:"ReactTags",propTypes:{tags:n.PropTypes.array,placeholder:n.PropTypes.string,labelField:n.PropTypes.string,suggestions:n.PropTypes.array,delimeters:n.PropTypes.array,autofocus:n.PropTypes.bool,inline:n.PropTypes.bool,handleDelete:n.PropTypes.func.isRequired,handleAddition:n.PropTypes.func.isRequired,handleDrag:n.PropTypes.func.isRequired,allowDeleteFromEmptyInput:n.PropTypes.bool,handleInputChange:n.PropTypes.func,minQueryLength:n.PropTypes.number},getDefaultProps:function(){return{placeholder:"Add new tag",tags:[],suggestions:[],delimeters:[c.ENTER,c.TAB],autofocus:!0,inline:!0,allowDeleteFromEmptyInput:!0,minQueryLength:2}},componentDidMount:function(){this.props.autofocus&&this.refs.input.focus()},getInitialState:function(){return{suggestions:this.props.suggestions,query:"",selectedIndex:-1,selectionMode:!1}},filteredSuggestions:function(e,t){return t.filter(function(t){return t.toLowerCase().startsWith(e.toLowerCase())})},componentWillReceiveProps:function(e){var t=this.filteredSuggestions(this.state.query,e.suggestions);this.setState({suggestions:t})},handleDelete:function(e,t){this.props.handleDelete(e),this.setState({query:""})},handleChange:function(e){this.props.handleInputChange&&this.props.handleInputChange(e.target.value.trim());var t=e.target.value.trim(),r=this.filteredSuggestions(t,this.props.suggestions);this.setState({query:t,suggestions:r})},handleKeyDown:function(e){var t=this.state,r=t.query,n=t.selectedIndex,o=t.suggestions;if(e.keyCode===c.ESCAPE&&(e.preventDefault(),this.setState({selectedIndex:-1,selectionMode:!1,suggestions:[]})),-1!==this.props.delimeters.indexOf(e.keyCode)&&(e.preventDefault(),""!==r&&(this.state.selectionMode&&(r=this.state.suggestions[this.state.selectedIndex]),this.addTag(r))),e.keyCode===c.BACKSPACE&&""==r&&this.props.allowDeleteFromEmptyInput&&this.handleDelete(this.props.tags.length-1),e.keyCode===c.UP_ARROW){e.preventDefault();var n=this.state.selectedIndex;0>=n?this.setState({selectedIndex:this.state.suggestions.length-1,selectionMode:!0}):this.setState({selectedIndex:n-1,selectionMode:!0})}e.keyCode===c.DOWN_ARROW&&(e.preventDefault(),this.setState({selectedIndex:(this.state.selectedIndex+1)%o.length,selectionMode:!0}))},addTag:function(e){var t=this.refs.input;this.props.handleAddition(e),this.setState({query:"",selectionMode:!1,selectedIndex:-1}),t.value="",t.focus()},handleSuggestionClick:function(e,t){this.addTag(this.state.suggestions[e])},handleSuggestionHover:function(e,t){this.setState({selectedIndex:e,selectionMode:!0})},moveTag:function(e,t){var r=this.props.tags,n=r.filter(function(t){return t.id===e})[0],o=r.filter(function(e){return e.id===t})[0],i=r.indexOf(n),a=r.indexOf(o);this.props.handleDrag(n,i,a)},render:function(){var e=this.props.tags.map(function(e,t){return n.createElement(o,{key:e.id,tag:e,labelField:this.props.labelField,onDelete:this.handleDelete.bind(this,t),moveTag:this.moveTag})}.bind(this)),t=this.state.query.trim(),r=this.state.selectedIndex,a=this.state.suggestions,s=this.props.placeholder,u=n.createElement("div",{className:"ReactTags__tagInput"},n.createElement("input",{ref:"input",type:"text",placeholder:s,onChange:this.handleChange,onKeyDown:this.handleKeyDown}),n.createElement(i,{query:t,suggestions:a,selectedIndex:r,handleClick:this.handleSuggestionClick,handleHover:this.handleSuggestionHover,minQueryLength:this.props.minQueryLength}));return n.createElement("div",{className:"ReactTags__tags"},n.createElement("div",{className:"ReactTags__selected"},e,this.props.inline&&u),!this.props.inline&&u)}});e.exports={WithContext:s(u)(p),WithOutContext:p,Keys:c}},function(e,t){function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=r},function(e,t,r){function n(e,t){var r=null==e?void 0:e[t];return o(r)?r:void 0}var o=r(61);e.exports=n},function(e,t,r){function n(e){return null!=e&&i(o(e))}var o=r(48),i=r(7);e.exports=n},function(e,t){function r(e){return!!e&&"object"==typeof e}e.exports=r},function(e,t,r){var n=r(2),o=r(7),i=r(4),a="[object Array]",s=Object.prototype,u=s.toString,c=n(Array,"isArray"),p=c||function(e){return i(e)&&o(e.length)&&u.call(e)==a};e.exports=p},function(e,t){function r(e,t){if("function"!=typeof e)throw new TypeError(n);return t=o(void 0===t?e.length-1:+t||0,0),function(){for(var r=arguments,n=-1,i=o(r.length-t,0),a=Array(i);++n<i;)a[n]=r[t+n];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,r[0],a);case 2:return e.call(this,r[0],r[1],a)}var s=Array(t+1);for(n=-1;++n<t;)s[n]=r[n];return s[t]=a,e.apply(this,s)}}var n="Expected a function",o=Math.max;e.exports=r},function(e,t){function r(e){return"number"==typeof e&&e>-1&&e%1==0&&n>=e}var n=9007199254740991;e.exports=r},function(e,t,r){function n(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=a,this.__views__=[]}var o=r(15),i=r(10),a=Number.POSITIVE_INFINITY;n.prototype=o(i.prototype),n.prototype.constructor=n,e.exports=n},function(e,t,r){function n(e,t,r){this.__wrapped__=e,this.__actions__=r||[],this.__chain__=!!t}var o=r(15),i=r(10);n.prototype=o(i.prototype),n.prototype.constructor=n,e.exports=n},function(e,t){function r(){}e.exports=r},function(e,t){function r(e,t){return e="number"==typeof e||n.test(e)?+e:-1,t=null==t?o:t,e>-1&&e%1==0&&t>e}var n=/^\d+$/,o=9007199254740991;e.exports=r},function(e,t,r){function n(e){return i(e)&&o(e)&&s.call(e,"callee")&&!u.call(e,"callee")}var o=r(3),i=r(4),a=Object.prototype,s=a.hasOwnProperty,u=a.propertyIsEnumerable;e.exports=n},function(e,t){"use strict";t.__esModule=!0;var r="__NATIVE_FILE__";t.FILE=r;var n="__NATIVE_URL__";t.URL=n;var o="__NATIVE_TEXT__";t.TEXT=o},function(t,r){t.exports=e},function(e,t,r){var n=r(1),o=function(){function e(){}return function(t){if(n(t)){e.prototype=t;var r=new e;e.prototype=void 0}return r||{}}}();e.exports=o},function(e,t,r){function n(e,t,r){if(t!==t)return o(e,r);for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var o=r(49);e.exports=n},function(e,t,r){function n(e,t){var r=e.data,n="string"==typeof t||o(t)?r.set.has(t):r.hash[t];return n?0:-1}var o=r(1);e.exports=n},function(e,t,r){(function(t){function n(e){return s&&a?new o(e):null}var o=r(32),i=r(2),a=i(t,"Set"),s=i(Object,"create");e.exports=n}).call(t,function(){return this}())},function(e,t,r){var n=r(56),o=r(66),i=n?function(e){return n.get(e)}:o;e.exports=i},function(e,t,r){function n(e){for(var t=e.name+"",r=o[t],n=r?r.length:0;n--;){var i=r[n],a=i.func;if(null==a||a==e)return i.name}return t}var o=r(57);e.exports=n},function(e,t,r){var n=r(2),o=r(3),i=r(1),a=r(58),s=n(Object,"keys"),u=s?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&o(e)?a(e):i(e)?s(e):[]}:a;e.exports=u},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=r(30),i=n(o),a=i["default"](function(){return/firefox/i.test(navigator.userAgent)});t.isFirefox=a;var s=i["default"](function(){return Boolean(window.safari)});t.isSafari=s},function(e,r){e.exports=t},function(e,t,r){"use strict";var n=r(14),o=n.createClass({displayName:"Suggestions",propTypes:{query:n.PropTypes.string.isRequired,selectedIndex:n.PropTypes.number.isRequired,suggestions:n.PropTypes.array.isRequired,handleClick:n.PropTypes.func.isRequired,handleHover:n.PropTypes.func.isRequired,minQueryLength:n.PropTypes.number},markIt:function(e,t){var r=t.trim().replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&"),n=RegExp(r,"gi");return{__html:e.replace(n,"<mark>$&</mark>")}},render:function(){var e=this.props,t=this.props.suggestions.map(function(t,r){return n.createElement("li",{key:r,onClick:e.handleClick.bind(null,r),onMouseOver:e.handleHover.bind(null,r),className:r==e.selectedIndex?"active":""},n.createElement("span",{dangerouslySetInnerHTML:this.markIt(t,e.query)}))}.bind(this)),r=e.minQueryLength||2;return 0===t.length||e.query.length<r?n.createElement("div",{className:"ReactTags__suggestions"}," "):n.createElement("div",{className:"ReactTags__suggestions"},n.createElement("ul",null," ",t," "))}});e.exports=o},function(e,t,r){"use strict";function n(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}function o(e,t){return{connectDropTarget:e.dropTarget()}}var i=r(14),a=r(23),s=a.DragSource,u=a.DropTarget,c=r(29),p={TAG:"tag"},f={beginDrag:function(e){return{id:e.tag.id}}},d={hover:function(e,t){var r=t.getItem().id;r!==e.id&&e.moveTag(r,e.tag.id)}},l=i.createClass({displayName:"Tag",propTypes:{labelField:i.PropTypes.string,onDelete:i.PropTypes.func.isRequired,tag:i.PropTypes.object.isRequired,moveTag:i.PropTypes.func.isRequired},getDefaultProps:function(){return{labelField:"text"}},render:function(){var e=this.props.tag[this.props.labelField],t=this.props,r=t.connectDragSource,n=t.isDragging,o=t.connectDropTarget;return r(o(i.createElement("span",{style:{opacity:n?0:1},className:"ReactTags__tag"},e,i.createElement("a",{className:"ReactTags__remove",onClick:this.props.onDelete},"x"))))}});e.exports=c(s(p.TAG,f,n),u(p.TAG,d,o))(l)},function(e,t,r){var n=r(40),o=r(42),i=r(6),a=i(function(e){return o(n(e,!1,!0))});e.exports=a},function(e,t,r){var n=r(39),o=r(3),i=r(6),a=i(function(e,t){return o(e)?n(e,t):[]});e.exports=a},function(e,t,r){function n(e){if(u(e)&&!s(e)&&!(e instanceof o)){if(e instanceof i)return e;if(f.call(e,"__chain__")&&f.call(e,"__wrapped__"))return c(e)}return new i(e)}var o=r(8),i=r(9),a=r(10),s=r(5),u=r(4),c=r(59),p=Object.prototype,f=p.hasOwnProperty;n.prototype=a.prototype,e.exports=n},function(e,t,r){var n=r(47),o=n();e.exports=o},function(e,t,r){function n(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(i);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a),a};return r.cache=new n.Cache,r}var o=r(31),i="Expected a function";n.Cache=o,e.exports=n},function(e,t,r){function n(){this.__data__={}}var o=r(52),i=r(53),a=r(54),s=r(55);n.prototype["delete"]=o,n.prototype.get=i,n.prototype.has=a,n.prototype.set=s,e.exports=n},function(e,t,r){(function(t){function n(e){var t=e?e.length:0;for(this.data={hash:s(null),set:new a};t--;)this.push(e[t])}var o=r(44),i=r(2),a=i(t,"Set"),s=i(Object,"create");n.prototype.push=o,e.exports=n}).call(t,function(){return this}())},function(e,t){function r(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}e.exports=r},function(e,t){function r(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}e.exports=r},function(e,t){function r(e,t){return void 0===e?t:e}e.exports=r},function(e,t,r){function n(e,t,r){for(var n=-1,i=o(t),a=i.length;++n<a;){var s=i[n],u=e[s],c=r(u,t[s],s,e,t);(c===c?c===u:u!==u)&&(void 0!==u||s in e)||(e[s]=c)}return e}var o=r(21);e.exports=n},function(e,t,r){function n(e,t){return null==t?e:o(t,i(t),e)}var o=r(38),i=r(21);e.exports=n},function(e,t){function r(e,t,r){r||(r={});for(var n=-1,o=t.length;++n<o;){var i=t[n];r[i]=e[i]}return r}e.exports=r},function(e,t,r){function n(e,t){var r=e?e.length:0,n=[];if(!r)return n;var u=-1,c=o,p=!0,f=p&&t.length>=s?a(t):null,d=t.length;f&&(c=i,p=!1,t=f);e:for(;++u<r;){var l=e[u];if(p&&l===l){for(var h=d;h--;)if(t[h]===l)continue e;n.push(l)}else c(t,l,0)<0&&n.push(l)}return n}var o=r(16),i=r(17),a=r(18),s=200;e.exports=n},function(e,t,r){function n(e,t,r,c){c||(c=[]);for(var p=-1,f=e.length;++p<f;){var d=e[p];u(d)&&s(d)&&(r||a(d)||i(d))?t?n(d,t,r,c):o(c,d):r||(c[c.length]=d)}return c}var o=r(34),i=r(12),a=r(5),s=r(3),u=r(4);e.exports=n},function(e,t){function r(e){return function(t){return null==t?void 0:t[e]}}e.exports=r},function(e,t,r){function n(e,t){var r=-1,n=o,u=e.length,c=!0,p=c&&u>=s,f=p?a():null,d=[];f?(n=i,c=!1):(p=!1,f=t?[]:d);e:for(;++r<u;){var l=e[r],h=t?t(l,r,e):l;if(c&&l===l){for(var g=f.length;g--;)if(f[g]===h)continue e;t&&f.push(h),d.push(l)}else n(f,h,0)<0&&((t||p)&&f.push(h),d.push(l))}return d}var o=r(16),i=r(17),a=r(18),s=200;e.exports=n},function(e,t,r){function n(e,t,r){if("function"!=typeof e)return o;if(void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,o){return e.call(t,r,n,o)};case 4:return function(r,n,o,i){return e.call(t,r,n,o,i)};case 5:return function(r,n,o,i,a){return e.call(t,r,n,o,i,a)}}return function(){return e.apply(t,arguments)}}var o=r(65);e.exports=n},function(e,t,r){function n(e){var t=this.data;"string"==typeof e||o(e)?t.set.add(e):t.hash[e]=!0}var o=r(1);e.exports=n},function(e,t,r){function n(e){return a(function(t,r){var n=-1,a=null==t?0:r.length,s=a>2?r[a-2]:void 0,u=a>2?r[2]:void 0,c=a>1?r[a-1]:void 0;for("function"==typeof s?(s=o(s,c,5),a-=2):(s="function"==typeof c?c:void 0,a-=s?1:0),u&&i(r[0],r[1],u)&&(s=3>a?void 0:s,a=1);++n<a;){var p=r[n];p&&e(t,p,s)}return t})}var o=r(43),i=r(50),a=r(6);e.exports=n},function(e,t,r){function n(e,t){return o(function(r){var n=r[0];return null==n?n:(r.push(t),e.apply(void 0,r))})}var o=r(6);e.exports=n},function(e,t,r){function n(e){return function(){for(var t,r=arguments.length,n=e?r:-1,g=0,v=Array(r);e?n--:++n<r;){var y=v[g++]=arguments[n];if("function"!=typeof y)throw new TypeError(h);!t&&o.prototype.thru&&"wrapper"==a(y)&&(t=new o([],!0))}for(n=t?-1:r;++n<r;){y=v[n];var D=a(y),m="wrapper"==D?i(y):void 0;t=m&&u(m[0])&&m[1]==(f|c|p|d)&&!m[4].length&&1==m[9]?t[a(m[0])].apply(t,m[3]):1==y.length&&u(y)?t[D]():t.thru(y)}return function(){var e=arguments,n=e[0];if(t&&1==e.length&&s(n)&&n.length>=l)return t.plant(n).value();for(var o=0,i=r?v[o].apply(this,e):n;++o<r;)i=v[o].call(this,i);return i}}}var o=r(9),i=r(19),a=r(20),s=r(5),u=r(51),c=8,p=32,f=128,d=256,l=200,h="Expected a function";e.exports=n},function(e,t,r){var n=r(41),o=n("length");e.exports=o},function(e,t){function r(e,t,r){for(var n=e.length,o=t+(r?0:-1);r?o--:++o<n;){var i=e[o];if(i!==i)return o}return-1}e.exports=r},function(e,t,r){function n(e,t,r){if(!a(r))return!1;var n=typeof t;if("number"==n?o(r)&&i(t,r.length):"string"==n&&t in r){var s=r[t];return e===e?e===s:s!==s}return!1}var o=r(3),i=r(11),a=r(1);e.exports=n},function(e,t,r){function n(e){var t=a(e),r=s[t];if("function"!=typeof r||!(t in o.prototype))return!1;if(e===r)return!0;var n=i(r);return!!n&&e===n[0]}var o=r(8),i=r(19),a=r(20),s=r(28);e.exports=n},function(e,t){function r(e){return this.has(e)&&delete this.__data__[e]}e.exports=r},function(e,t){function r(e){return"__proto__"==e?void 0:this.__data__[e]}e.exports=r},function(e,t){function r(e){return"__proto__"!=e&&o.call(this.__data__,e)}var n=Object.prototype,o=n.hasOwnProperty;e.exports=r},function(e,t){function r(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}e.exports=r},function(e,t,r){(function(t){var n=r(2),o=n(t,"WeakMap"),i=o&&new o;e.exports=i}).call(t,function(){return this}())},function(e,t){var r={};e.exports=r},function(e,t,r){function n(e){for(var t=u(e),r=t.length,n=r&&e.length,c=!!n&&s(n)&&(i(e)||o(e)),f=-1,d=[];++f<r;){var l=t[f];(c&&a(l,n)||p.call(e,l))&&d.push(l)}return d}var o=r(12),i=r(5),a=r(11),s=r(7),u=r(64),c=Object.prototype,p=c.hasOwnProperty;e.exports=n},function(e,t,r){function n(e){return e instanceof o?e.clone():new i(e.__wrapped__,e.__chain__,a(e.__actions__))}var o=r(8),i=r(9),a=r(33);e.exports=n},function(e,t,r){function n(e){return o(e)&&s.call(e)==i}var o=r(1),i="[object Function]",a=Object.prototype,s=a.toString;e.exports=n},function(e,t,r){function n(e){return null==e?!1:o(e)?p.test(u.call(e)):i(e)&&a.test(e)}var o=r(60),i=r(4),a=/^\[object .+?Constructor\]$/,s=Object.prototype,u=Function.prototype.toString,c=s.hasOwnProperty,p=RegExp("^"+u.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=n},function(e,t,r){var n=r(36),o=r(37),i=r(45),a=i(function(e,t,r){return r?n(e,t,r):o(e,t)});e.exports=a},function(e,t,r){var n=r(62),o=r(35),i=r(46),a=i(n,o);e.exports=a},function(e,t,r){function n(e){if(null==e)return[];u(e)||(e=Object(e));var t=e.length;t=t&&s(t)&&(i(e)||o(e))&&t||0;for(var r=e.constructor,n=-1,c="function"==typeof r&&r.prototype===e,f=Array(t),d=t>0;++n<t;)f[n]=n+"";for(var l in e)d&&a(l,t)||"constructor"==l&&(c||!p.call(e,l))||f.push(l);return f}var o=r(12),i=r(5),a=r(11),s=r(7),u=r(1),c=Object.prototype,p=c.hasOwnProperty;e.exports=n},function(e,t){function r(e){return e}e.exports=r},function(e,t){function r(){}e.exports=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=r(26),a=n(i),s=r(27),u=n(s),c=function(){function e(){o(this,e),this.entered=[]}return e.prototype.enter=function(e){var t=this.entered.length;return this.entered=a["default"](this.entered.filter(function(t){return document.documentElement.contains(t)&&(!t.contains||t.contains(e))}),[e]),0===t&&this.entered.length>0},e.prototype.leave=function(e){var t=this.entered.length;return this.entered=u["default"](this.entered.filter(function(e){return document.documentElement.contains(e)}),e),t>0&&0===this.entered.length},e.prototype.reset=function(){this.entered=[]},e}();t["default"]=c,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var a=r(63),s=o(a),u=r(74),c=o(u),p=r(67),f=o(p),d=r(22),l=r(71),h=r(70),g=r(13),v=n(g),y=function(){function e(t){i(this,e),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.sourcePreviewNodes={},this.sourcePreviewNodeOptions={},this.sourceNodes={},this.sourceNodeOptions={},this.enterLeaveCounter=new f["default"],this.getSourceClientOffset=this.getSourceClientOffset.bind(this),this.handleTopDragStart=this.handleTopDragStart.bind(this),this.handleTopDragStartCapture=this.handleTopDragStartCapture.bind(this),this.handleTopDragEndCapture=this.handleTopDragEndCapture.bind(this),this.handleTopDragEnter=this.handleTopDragEnter.bind(this),this.handleTopDragEnterCapture=this.handleTopDragEnterCapture.bind(this),this.handleTopDragLeaveCapture=this.handleTopDragLeaveCapture.bind(this),this.handleTopDragOver=this.handleTopDragOver.bind(this),this.handleTopDragOverCapture=this.handleTopDragOverCapture.bind(this),this.handleTopDrop=this.handleTopDrop.bind(this),this.handleTopDropCapture=this.handleTopDropCapture.bind(this),this.handleSelectStart=this.handleSelectStart.bind(this),this.endDragIfSourceWasRemovedFromDOM=this.endDragIfSourceWasRemovedFromDOM.bind(this)}return e.prototype.setup=function(){if("undefined"!=typeof window){if(this.constructor.isSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.constructor.isSetUp=!0,window.addEventListener("dragstart",this.handleTopDragStart),window.addEventListener("dragstart",this.handleTopDragStartCapture,!0),window.addEventListener("dragend",this.handleTopDragEndCapture,!0),window.addEventListener("dragenter",this.handleTopDragEnter),window.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),window.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),window.addEventListener("dragover",this.handleTopDragOver),window.addEventListener("dragover",this.handleTopDragOverCapture,!0),window.addEventListener("drop",this.handleTopDrop),window.addEventListener("drop",this.handleTopDropCapture,!0)}},e.prototype.teardown=function(){"undefined"!=typeof window&&(this.constructor.isSetUp=!1,window.removeEventListener("dragstart",this.handleTopDragStart),window.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),window.removeEventListener("dragend",this.handleTopDragEndCapture,!0),window.removeEventListener("dragenter",this.handleTopDragEnter),window.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),window.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),window.removeEventListener("dragover",this.handleTopDragOver),window.removeEventListener("dragover",this.handleTopDragOverCapture,!0),window.removeEventListener("drop",this.handleTopDrop),window.removeEventListener("drop",this.handleTopDropCapture,!0),this.clearCurrentDragSourceNode())},e.prototype.connectDragPreview=function(e,t,r){var n=this;return this.sourcePreviewNodeOptions[e]=r,this.sourcePreviewNodes[e]=t,function(){delete n.sourcePreviewNodes[e],delete n.sourcePreviewNodeOptions[e]}},e.prototype.connectDragSource=function(e,t,r){var n=this;this.sourceNodes[e]=t,this.sourceNodeOptions[e]=r;var o=function(t){return n.handleDragStart(t,e)},i=function(t){return n.handleSelectStart(t,e)};return t.setAttribute("draggable",!0),t.addEventListener("dragstart",o),t.addEventListener("selectstart",i),function(){delete n.sourceNodes[e],delete n.sourceNodeOptions[e],t.removeEventListener("dragstart",o),t.removeEventListener("selectstart",i),t.setAttribute("draggable",!1)}},e.prototype.connectDropTarget=function(e,t){var r=this,n=function(t){return r.handleDragEnter(t,e)},o=function(t){return r.handleDragOver(t,e)},i=function(t){return r.handleDrop(t,e)};return t.addEventListener("dragenter",n),t.addEventListener("dragover",o),t.addEventListener("drop",i),function(){t.removeEventListener("dragenter",n),t.removeEventListener("dragover",o),t.removeEventListener("drop",i)}},e.prototype.getCurrentSourceNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions[e];return s["default"](t||{},{dropEffect:"move"})},e.prototype.getCurrentDropEffect=function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect},e.prototype.getCurrentSourcePreviewNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions[e];return s["default"](t||{},{anchorX:.5,anchorY:.5,captureDraggingState:!1})},e.prototype.getSourceClientOffset=function(e){return l.getNodeClientOffset(this.sourceNodes[e])},e.prototype.isDraggingNativeItem=function(){var e=this.monitor.getItemType();return Object.keys(v).some(function(t){return v[t]===e})},e.prototype.beginDragNativeItem=function(e){this.clearCurrentDragSourceNode();var t=h.createNativeDragSource(e);this.currentNativeSource=new t,this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])},e.prototype.endDragNativeItem=function(){this.actions.endDrag(),this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null},e.prototype.endDragIfSourceWasRemovedFromDOM=function(){var e=this.currentDragSourceNode;document.body.contains(e)||(this.actions.endDrag(),this.clearCurrentDragSourceNode())},e.prototype.setCurrentDragSourceNode=function(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.currentDragSourceNodeOffset=l.getNodeClientOffset(e),this.currentDragSourceNodeOffsetChanged=!1,window.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},e.prototype.clearCurrentDragSourceNode=function(){return this.currentDragSourceNode?(this.currentDragSourceNode=null,this.currentDragSourceNodeOffset=null,this.currentDragSourceNodeOffsetChanged=!1,window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0),!0):!1},e.prototype.checkIfCurrentDragSourceRectChanged=function(){var e=this.currentDragSourceNode;return e?this.currentDragSourceNodeOffsetChanged?!0:(this.currentDragSourceNodeOffsetChanged=!c["default"](l.getNodeClientOffset(e),this.currentDragSourceNodeOffset),this.currentDragSourceNodeOffsetChanged):!1},e.prototype.handleTopDragStartCapture=function(){this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},e.prototype.handleDragStart=function(e,t){this.dragStartSourceIds.unshift(t)},e.prototype.handleTopDragStart=function(e){var t=this,r=this.dragStartSourceIds;this.dragStartSourceIds=null;var n=l.getEventClientOffset(e);this.actions.beginDrag(r,{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:n});var o=e.dataTransfer,i=h.matchNativeItemType(o);if(this.monitor.isDragging()){if("function"==typeof o.setDragImage){var a=this.monitor.getSourceId(),s=this.sourceNodes[a],u=this.sourcePreviewNodes[a]||s,c=this.getCurrentSourcePreviewNodeOptions(),p=c.anchorX,f=c.anchorY,d={anchorX:p,anchorY:f},g=l.getDragPreviewOffset(s,u,n,d);o.setDragImage(u,g.x,g.y)}try{o.setData("application/json",{})}catch(v){}this.setCurrentDragSourceNode(e.target);var y=this.getCurrentSourcePreviewNodeOptions(),D=y.captureDraggingState;D?this.actions.publishDragSource():setTimeout(function(){return t.actions.publishDragSource()})}else if(i)this.beginDragNativeItem(i);else{if(!(o.types||e.target.hasAttribute&&e.target.hasAttribute("draggable")))return;e.preventDefault()}},e.prototype.handleTopDragEndCapture=function(){this.clearCurrentDragSourceNode()&&this.actions.endDrag()},e.prototype.handleTopDragEnterCapture=function(e){this.dragEnterTargetIds=[];var t=this.enterLeaveCounter.enter(e.target);if(t&&!this.monitor.isDragging()){var r=e.dataTransfer,n=h.matchNativeItemType(r);n&&this.beginDragNativeItem(n)}},e.prototype.handleDragEnter=function(e,t){this.dragEnterTargetIds.unshift(t)},e.prototype.handleTopDragEnter=function(e){var t=this,r=this.dragEnterTargetIds;if(this.dragEnterTargetIds=[],this.monitor.isDragging()){d.isFirefox()||this.actions.hover(r,{clientOffset:l.getEventClientOffset(e)});var n=r.some(function(e){return t.monitor.canDropOnTarget(e)});n&&(e.preventDefault(),e.dataTransfer.dropEffect=this.getCurrentDropEffect())}},e.prototype.handleTopDragOverCapture=function(){this.dragOverTargetIds=[]},e.prototype.handleDragOver=function(e,t){this.dragOverTargetIds.unshift(t)},e.prototype.handleTopDragOver=function(e){var t=this,r=this.dragOverTargetIds;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer.dropEffect="none");this.actions.hover(r,{clientOffset:l.getEventClientOffset(e)});var n=r.some(function(e){return t.monitor.canDropOnTarget(e)});n?(e.preventDefault(),e.dataTransfer.dropEffect=this.getCurrentDropEffect()):this.isDraggingNativeItem()?(e.preventDefault(),e.dataTransfer.dropEffect="none"):this.checkIfCurrentDragSourceRectChanged()&&(e.preventDefault(),e.dataTransfer.dropEffect="move")},e.prototype.handleTopDragLeaveCapture=function(e){this.isDraggingNativeItem()&&e.preventDefault();var t=this.enterLeaveCounter.leave(e.target);t&&this.isDraggingNativeItem()&&this.endDragNativeItem()},e.prototype.handleTopDropCapture=function(e){this.dropTargetIds=[],e.preventDefault(),this.isDraggingNativeItem()&&this.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),this.enterLeaveCounter.reset()},e.prototype.handleDrop=function(e,t){this.dropTargetIds.unshift(t)},e.prototype.handleTopDrop=function(e){var t=this.dropTargetIds;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:l.getEventClientOffset(e)}),this.actions.drop(),this.isDraggingNativeItem()?this.endDragNativeItem():this.endDragIfSourceWasRemovedFromDOM()},e.prototype.handleSelectStart=function(e){"function"==typeof e.target.dragDrop&&(e.preventDefault(),e.target.dragDrop())},e}();t["default"]=y,e.exports=t["default"]},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var n=function(){function e(t,n){r(this,e);for(var o=t.length,i=[],a=0;o>a;a++)i.push(a);i.sort(function(e,r){return t[e]<t[r]?-1:1});for(var s=[],u=[],c=[],p=void 0,f=void 0,a=0;o-1>a;a++)p=t[a+1]-t[a],f=n[a+1]-n[a],u.push(p),s.push(f),c.push(f/p);for(var d=[c[0]],a=0;a<u.length-1;a++){var l=c[a],h=c[a+1];if(0>=l*h)d.push(0);else{p=u[a];var g=u[a+1],v=p+g;d.push(3*v/((v+g)/l+(v+p)/h))}}d.push(c[c.length-1]);for(var y=[],D=[],m=void 0,a=0;a<d.length-1;a++){m=c[a];var T=d[a],_=1/u[a],v=T+d[a+1]-m-m;y.push((m-T-v)*_),D.push(v*_*_)}this.xs=t,this.ys=n,this.c1s=d,this.c2s=y,this.c3s=D}return e.prototype.interpolate=function(e){var t=this.xs,r=this.ys,n=this.c1s,o=this.c2s,i=this.c3s,a=t.length-1;if(e===t[a])return r[a];for(var s=0,u=i.length-1,c=void 0;u>=s;){c=Math.floor(.5*(s+u));var p=t[c];if(e>p)s=c+1;else{if(!(p>e))return r[c];u=c-1}}a=Math.max(0,u);var f=e-t[a],d=f*f;return r[a]+n[a]*f+o[a]*d+i[a]*f*d},e}();t["default"]=n,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t,r){var n=t.reduce(function(t,r){return t||e.getData(r)},null);return null!=n?n:r}function s(e){var t=d[e],r=t.exposeProperty,n=t.matchesTypes,a=t.getData;return function(){function e(){o(this,e),this.item=Object.defineProperties({},i({},r,{get:function(){return console.warn("Browser doesn't allow reading \""+r+'" until the drop event.'),null},configurable:!0,enumerable:!0}))}return e.prototype.mutateItemByReadingDataTransfer=function(e){delete this.item[r],this.item[r]=a(e,n)},e.prototype.canDrag=function(){return!0},e.prototype.beginDrag=function(){return this.item},e.prototype.isDragging=function(e,t){return t===e.getSourceId()},e.prototype.endDrag=function(){},e}()}function u(e){var t=Array.prototype.slice.call(e.types||[]);return Object.keys(d).filter(function(e){var r=d[e].matchesTypes;return r.some(function(e){return t.indexOf(e)>-1})})[0]||null}t.__esModule=!0;var c;t.createNativeDragSource=s,t.matchNativeItemType=u;var p=r(13),f=n(p),d=(c={},i(c,f.FILE,{exposeProperty:"files",matchesTypes:["Files"],getData:function(e){return Array.prototype.slice.call(e.files)}}),i(c,f.URL,{exposeProperty:"urls",matchesTypes:["Url","text/uri-list"],getData:function(e,t){return a(e,t,"").split("\n")}}),i(c,f.TEXT,{exposeProperty:"text",matchesTypes:["Text","text/plain"],getData:function(e,t){return a(e,t,"")}}),c)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.nodeType===p?e:e.parentElement;if(!t)return null;var r=t.getBoundingClientRect(),n=r.top,o=r.left;return{x:o,y:n}}function i(e){return{x:e.clientX,y:e.clientY}}function a(e,t,r,n){var i="IMG"===t.nodeName&&(s.isFirefox()||!document.documentElement.contains(t)),a=i?e:t,u=o(a),p={x:r.x-u.x,y:r.y-u.y},f=e.offsetWidth,d=e.offsetHeight,l=n.anchorX,h=n.anchorY,g=i?t.width:f,v=i?t.height:d;s.isSafari()&&i?(v/=window.devicePixelRatio,g/=window.devicePixelRatio):s.isFirefox()&&!i&&(v*=window.devicePixelRatio,g*=window.devicePixelRatio);var y=new c["default"]([0,.5,1],[p.x,p.x/f*g,p.x+g-f]),D=new c["default"]([0,.5,1],[p.y,p.y/d*v,p.y+v-d]),m=y.interpolate(l),T=D.interpolate(h);return s.isSafari()&&i&&(T+=(window.devicePixelRatio-1)*v),{x:m,y:T}}t.__esModule=!0,t.getNodeClientOffset=o,t.getEventClientOffset=i,t.getDragPreviewOffset=a;var s=r(22),u=r(69),c=n(u),p=1},function(e,t){"use strict";
function r(){return n||(n=new Image,n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),n}t.__esModule=!0,t["default"]=r;var n=void 0;e.exports=t["default"]},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e){return new s["default"](e)}t.__esModule=!0,t["default"]=i;var a=r(68),s=o(a),u=r(72),c=o(u),p=r(13),f=n(p);t.NativeTypes=f,t.getEmptyImage=c["default"]},function(e,t){"use strict";function r(e,t){if(e===t)return!0;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<r.length;i++){if(!o.call(t,r[i])||e[r[i]]!==t[r[i]])return!1;var a=e[r[i]],s=t[r[i]];if(a!==s)return!1}return!0}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t){e.exports=r}])});